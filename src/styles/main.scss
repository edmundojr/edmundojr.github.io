@import "~normalize.css/normalize";

@import "_operator-pro";
@import "_margem";
@import "_variables";
@import "_typography";
@import "_reboot";

// Body spacing and border

body {
  padding: $grid-gutter;

  @media (max-width:500px) {
    padding: $grid-gutter / 2;
  }

  &::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: .75rem solid $body-color;
    pointer-events: none;

    @media (max-width:500px) {
      border-width: .5rem;
    }
  }
}

// Grid container

.grid-container {
  display: grid;
  grid-gap: 0 $grid-gutter;
  grid-template-columns: $grid-template-columns;
  max-width: $container-width;
  margin: 0 auto;

  @media (max-width:900px) {
    grid-gap: 0 ($grid-gutter / 2);
  }
}

// Main Area

.main {
  grid-column: 1 / span 16;

  &--home {
    grid-column: 5 / span 8;

    @media (max-width:900px) {
      grid-column: 4 / span 10;
    }

    @media (max-width:500px) {
      grid-column: 2 / span 12;
    }
  }
}

// Header

.header {
  grid-column: 5 / span 8;
  margin-top: 3rem;

  @media (max-width:900px) {
    grid-column: 4 / span 10;
  }

  @media (max-width:500px) {
    grid-column: 2 / span 12;
  }
}

// Footer

.footer {
  grid-column: 5 / span 8;
  margin-bottom: 3rem;
  font-size: $font-size-sm;

  @media (max-width:900px) {
    grid-column: 4 / span 10;
  }

  @media (max-width:500px) {
    grid-column: 2 / span 12;
  }
}

// Nav

.nav {
  margin-top: .75rem;
  font-weight: $font-weight-bold;

  &__link {
    display: inline-block;
    text-decoration: none;
    margin-right: 1rem;
    color: $body-color;
    transition: all .2s;

    &:hover,
    &:focus {
      outline: none;
      color: rgba($body-color,.5);
    }

    &.is-active {
      color: $primary;
    }
  }
}

// Post

.post {
  display: grid;
  grid-gap: ($grid-gutter / 2) $grid-gutter;
  grid-template-columns: $grid-template-columns;

  @media (max-width:900px) {
    grid-gap: ($grid-gutter / 4) ($grid-gutter / 2);
  }

  & + & {
    margin-top: 3rem;
  }

  // Header

  &__header {
    grid-column: 5 / span 8;
    grid-row: 1 / 1;

    @media (max-width:900px) {
      grid-column: 4 / span 10;
    }

    @media (max-width:500px) {
      grid-column: 2 / span 12;
    }
  }

  &__title {
    margin-bottom: 0;
    font-size: $font-size-h2;
    font-weight: $font-weight-black;
  }

  // Content sizing

  &__content {
    display: grid;
    grid-column: 1 / span 16;
    grid-gap: 0 $grid-gutter;
    grid-template-columns: $grid-template-columns;

    @media (max-width:900px) {
      grid-gap: 0 ($grid-gutter / 2);
    }

    > * {
      grid-column: 5 / span 8;

      @media (max-width:900px) {
        grid-column: 4 / span 10;
      }

      @media (max-width:500px) {
        grid-column: 2 / span 12;
      }
    }

    blockquote {
      grid-column: 6 / span 8;

      @media (max-width:900px) {
        grid-column: 5 / span 10;
      }

      @media (max-width:500px) {
        grid-column: 3 / span 12;
      }
    }

    figure {
      grid-column: 1 / -1;
    }
  }

  // Meta

  &__meta {
    grid-column: 13 / span 3;
    grid-row: 1 / 3;
    font-weight: $font-weight-bold;
    text-align: center;
    text-transform: uppercase;

    @media (max-width:900px) {
      grid-column: 1 / span 3;
      grid-row: 1 / 1;
    }

    @media (max-width:500px) {
      grid-column: 2 / span 12;
      grid-row: 1 / 1;
      text-align: left;
    }
  }

  // Date

  &__date {
    font-family: $font-family-headings;
    font-variant: tabular-nums;

    // Day

    span:first-child {
      display: block;
      font-size: $font-size-h2;
      font-weight: $font-weight-black;
      line-height: $line-height-sm;
    }

    @media (max-width:500px) {
      display: block;
      margin-bottom: .75rem;
      color: rgba($black, .5);

      span:first-child {
        display: inline;
        font-size: $font-size-base;
      }
    }
  }

  // Tags

  &__tags {
    position: relative;
    margin-top: 2rem;
    padding: 2rem 0 0 0;
    list-style: none;

    &::before {
      content: "Ã—";
      position: absolute;
      left: 0;
      right: 0;
      bottom: 100%;
      font-size: $font-size-xs;
      transform: translateY(50%);
    }
  }
}